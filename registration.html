<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đăng Ký</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <img id="logo" src="images/logo.png">
        <h1 id="siteTitle"> KHOA CNTT&TT</h1>
        <h1 id="siteTitle2">Hệ THống Quản Lý Và Đào Tạo </h1>
        <img id="logo2" src="images/logo2.png">
    </header>
    <nav>
        <div id="menu">
            <a href="#">Trang chủ</a>|
            <a href="#">Giới thiệu</a>
        </div>
        <div id="login">
            <a href="registration.html">Đăng Ký</a>|
            <a href="login.html">Đăng Nhập</a>
        </div>
    </nav>
    <main>
        <div id="leftSide">
            <div class="group-box">
                <div class="title">Danh Mục</div>
                <div class="leftMenu">
                    <ul>
                        <li><a href="#">Khoa-Viện</a></li>
                        <li><a href="#">Giảng Viên</a></li>
                        <li><a href="#">Sinh Viên</a></li>
                        <li><a href="#">Ngành Đào Tạo</a></li>
                        <li><a href="#">Lớp Chuyên Ngành</a></li>
                        <li><a href="#">Lớp Học Phần </a></li>
                        <li><a href="#">Môn Học</a></li>
                    </ul>
                </div>
            </div>
            <div class="group-box">
                <div class="title">Menu</div>
                <div class="leftMenu">
                    <ul>
                        <li><a href="#">link 1</a></li>
                        <li><a href="#">link 2</a></li>
                        <li><a href="#">link 3</a></li>
                        <li><a href="#">link 4</a></li>
                        <li><a href="#">link 5</a></li>
                        <li><a href="#">link 6</a></li>
                        <li><a href="#">link 7</a></li>
                    </ul>
                </div>
            </div>

        </div>
        <div id="mainContent">
            <div class="group-box">
                <div class="title">Thông tin Đăng Ký</div>
                <div class="frm">
                    <form name="form1" action="reg.php" method="post" onsubmit="return frmValidate()">
                        <table>
                            <tr>
                                <th>MSSV:</th>
                                <td><input required pattern=".{7}" type="text" name="mahv"></td>
                            </tr>
                            <tr>
                                <th>Họ tên:</th>
                                <td><input required type="text" name="hoten"></td>
                            </tr>
            
            
                            <tr>
                                <th>Giới tính:</th>
                                <td>
                                    <input required type="radio" name="gt">Nam
                                    <input required type="radio" name="gt">Nữ
                                </td>
                            </tr>
                            <tr>
                                <th>Ngày sinh:</th>
                                <td><input required type="date" name="ns"></td>
                            </tr>
                            <tr>
                                <th>Quê quán:</th>
                                <td><input required pattern="{1}" type="text" name="khoa"></td>
                            </tr>
                            <tr>
                                <th>Số ĐT:</th>
                                <td><input required pattern="\d{10}" type="number" name="dt"></td>
                            </tr>
            
                            <tr>
                                <th>E-mail:</th>
                                <td><input required type="text" name="mail" placeholder="duonghuutinh@gmail.com"></td>
                            </tr>
                            <tr>
                                <th>Chọn ảnh đại diện:</th>
                                <td><input required type="file" name="pic"></td>
                            </tr>
                            <tr>
                                <th>Mật khẩu:</th>
                                <td><input required type="password" name="mk" placeholder="8- 20 ký tự"></td>
                            </tr>
            
                            <tr>
                                <th>Nhập lại MK:</th>
                                <td><input type="password" name="pre_mk" placeholder="********"></td>
                            </tr>
                            <tr>
                                <th></th>
                                <td><button type="submit">Đăng Ký</button><button type="reset">Hủy</button></td>
                            </tr>
            
                        </table>
                    </form>
                </div> </div>
        </div>

    </main>
    <footer>
        copyright &#169; 2022
    </footer>
    
</body>
<script>
    function frmValidate() {
        var frm = document.forms['form1'];
        var ns = frm.ns;
        //mail
        //Ngày sinh: 
        var today = new Date();
        var t1 = new Date(ns.value);

        var ns1 = today.getFullYear() - t1.getFullYear();
        if (ns1 <= 0 || isNaN(ns1)) {
            alert("Ngày sinh không được trùng với ngày hiện tại!");
            ns.focus();
            return false;
        }


        var mail = frm.mail;
        var filter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;

        //mail đúng
        if (!filter.test(mail.value)) {
            alert("Hãy nhập đúng định dạng Mail!");
            mail.focus();
            return false;
        }

        //mật khẩu
        var mk = frm.mk;
        var strongRegex = new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})");
        //Nhập lại Mật khẩu:
        //nhập lại mk
        var pre_mk = frm.pre_mk;
        //kiểm tra đúng với trường mật khẩu đã nhập trước đó
        if (mk.value != pre_mk.value) {
            alert("Nhập lại mk không trùng khớp");
            pre_mk.focus();
            return false;
        }
        alert("Đăng ký thành công!");
        return true;
    }
</script>
</html>